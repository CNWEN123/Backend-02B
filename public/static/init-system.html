<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç³»ç»Ÿåˆå§‹åŒ– - Live Dealer Admin V2.1</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" rel="stylesheet">
</head>
<body class="bg-gray-100 p-8">
    <div class="max-w-4xl mx-auto">
        <div class="bg-white rounded-lg shadow-lg p-6">
            <h1 class="text-2xl font-bold mb-6">
                <i class="fas fa-database text-blue-500 mr-2"></i>
                ç³»ç»Ÿåˆå§‹åŒ–å·¥å…·
            </h1>

            <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6">
                <h2 class="font-bold text-yellow-800 mb-2">
                    <i class="fas fa-exclamation-triangle mr-1"></i>
                    æ³¨æ„äº‹é¡¹
                </h2>
                <p class="text-sm text-yellow-700">
                    æ­¤å·¥å…·å°†åˆå§‹åŒ–æ•°æ®åº“å¹¶åˆ›å»ºæµ‹è¯•æ•°æ®ã€‚<br>
                    <strong>å¦‚æœæ•°æ®åº“å·²æœ‰æ•°æ®ï¼Œè¯·å‹¿é‡å¤åˆå§‹åŒ–ï¼</strong>
                </p>
            </div>

            <div class="space-y-4">
                <div class="border rounded-lg p-4">
                    <h3 class="font-bold mb-3">ğŸ“‹ å°†è¦åˆ›å»ºçš„æ•°æ®ï¼š</h3>
                    <ul class="list-disc list-inside text-sm space-y-1 text-gray-700">
                        <li>ç®¡ç†å‘˜è´¦å·ï¼šadmin / admin123</li>
                        <li>æµ‹è¯•ä»£ç†ï¼štestagent001 / password123ï¼ˆå¸¦é‚€è¯·ç å’Œä¸“å±åŸŸåï¼‰</li>
                        <li>æµ‹è¯•ç©å®¶ï¼šplayer001 / password123</li>
                        <li>æ´—ç æ–¹æ¡ˆã€è§’è‰²æƒé™ç­‰åŸºç¡€æ•°æ®</li>
                    </ul>
                </div>

                <div id="result" class="hidden border rounded-lg p-4"></div>

                <div class="flex gap-3">
                    <button onclick="initSystem()" id="initBtn" class="flex-1 bg-blue-500 text-white py-3 px-4 rounded-lg font-bold hover:bg-blue-600 transition">
                        <i class="fas fa-rocket mr-2"></i>å¼€å§‹åˆå§‹åŒ–
                    </button>
                    <a href="/" class="flex-1 bg-gray-500 text-white py-3 px-4 rounded-lg font-bold hover:bg-gray-600 transition text-center">
                        <i class="fas fa-home mr-2"></i>è¿”å›é¦–é¡µ
                    </a>
                </div>
            </div>
        </div>
    </div>

    <script>
        async function initSystem() {
            const btn = document.getElementById('initBtn');
            const result = document.getElementById('result');
            
            btn.disabled = true;
            btn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>åˆå§‹åŒ–ä¸­...';
            result.classList.remove('hidden', 'bg-green-50', 'bg-red-50');
            result.innerHTML = '<p class="text-gray-600">æ­£åœ¨åˆå§‹åŒ–æ•°æ®åº“...</p>';

            try {
                // æ‰§è¡Œåˆå§‹åŒ–
                const initSQL = `
                    -- æ­¤å¤„åº”è¯¥åŒ…å«å®Œæ•´çš„åˆå§‹åŒ–SQL
                    -- ç”±äºæ— æ³•ç›´æ¥æ‰§è¡ŒSQLï¼Œæˆ‘ä»¬é€šè¿‡APIåˆ›å»ºæ•°æ®
                `;

                // ç®€åŒ–æ–¹æ¡ˆï¼šæ˜¾ç¤ºæ‰‹åŠ¨åˆå§‹åŒ–è¯´æ˜
                result.classList.add('bg-yellow-50');
                result.innerHTML = `
                    <h3 class="font-bold text-yellow-800 mb-3">
                        <i class="fas fa-info-circle mr-1"></i>
                        éœ€è¦æ‰‹åŠ¨åˆå§‹åŒ–
                    </h3>
                    <div class="text-sm text-yellow-700 space-y-2">
                        <p>ç”±äºæŠ€æœ¯é™åˆ¶ï¼Œè¯·æŒ‰ä»¥ä¸‹æ­¥éª¤æ‰‹åŠ¨åˆå§‹åŒ–ï¼š</p>
                        <ol class="list-decimal list-inside space-y-1 ml-2">
                            <li>åœ¨æœåŠ¡å™¨ç»ˆç«¯è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</li>
                        </ol>
                        <div class="bg-gray-900 text-green-400 p-3 rounded font-mono text-xs mt-2 overflow-x-auto">
cd /home/user/webapp<br>
cat seed.sql | grep -v "^--" | grep -v "^$" > /tmp/init.sql<br>
# ç„¶åéœ€è¦é€šè¿‡wrangleræ‰§è¡Œï¼Œä½†ç›®å‰æ²¡æœ‰ç®€å•æ–¹æ³•
                        </div>
                        <p class="mt-3"><strong>æ›´ç®€å•çš„æ–¹æ¡ˆï¼š</strong></p>
                        <p>ç›´æ¥è®¿é—®ç³»ç»Ÿï¼Œå¦‚æœçœ‹åˆ°ç™»å½•é¡µé¢ï¼Œå°è¯•ä½¿ç”¨ï¼š</p>
                        <ul class="list-disc list-inside ml-2">
                            <li>è´¦å·: admin</li>
                            <li>å¯†ç : admin123</li>
                        </ul>
                        <p class="mt-2">å¦‚æœæ— æ³•ç™»å½•ï¼Œè¯´æ˜æ•°æ®åº“éœ€è¦é‡æ–°å¯¼å…¥ä¹‹å‰çš„å¤‡ä»½æ•°æ®ã€‚</p>
                    </div>
                `;

            } catch (error) {
                result.classList.add('bg-red-50');
                result.innerHTML = `
                    <h3 class="font-bold text-red-800 mb-2">
                        <i class="fas fa-times-circle mr-1"></i>
                        åˆå§‹åŒ–å¤±è´¥
                    </h3>
                    <p class="text-sm text-red-700">${error.message}</p>
                `;
            } finally {
                btn.disabled = false;
                btn.innerHTML = '<i class="fas fa-rocket mr-2"></i>å¼€å§‹åˆå§‹åŒ–';
            }
        }
    </script>
</body>
</html>
